<?xml version="1.0" encoding="utf-8"?>
<!--Autogenerated by PropelSchemaReverseTask class.-->
<database name="zeyconnect" defaultIdMethod="native">
  <table name="activity" phpName="Activity" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="user_id" phpName="UserId" type="INTEGER" required="false"/>
    <column name="action" phpName="Action" type="VARCHAR" size="160" required="true"/>
    <column name="type" phpName="Type" type="SMALLINT" required="true" defaultValue="0"/>
    <column name="date" phpName="Date" type="TIMESTAMP" required="true"/>
    <column name="index" phpName="Index" type="VARCHAR" size="255" required="false" defaultValue="NULL"/>
    <column name="entity" phpName="Entity" type="VARCHAR" size="50" required="false" defaultValue="NULL"/>
    <column name="meta" phpName="Meta" type="LONGVARCHAR" required="false"/>
    <column name="sync" phpName="Sync" type="SMALLINT" required="true" defaultValue="1"/>
    <foreign-key foreignTable="user" name="fk_activity_user" onDelete="SET NULL" onUpdate="CASCADE">
      <reference local="user_id" foreign="id"/>
    </foreign-key>
    <index name="fk_activity_user_idx">
      <index-column name="user_id"/>
    </index>
  </table>
  <table name="address" phpName="Address" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="company" phpName="Company" type="VARCHAR" size="255" required="false"/>
    <column name="first_name" phpName="FirstName" type="VARCHAR" size="255" required="false"/>
    <column name="last_name" phpName="LastName" type="VARCHAR" size="255" required="false"/>
    <column name="address" phpName="Address" type="VARCHAR" size="255" required="false"/>
    <column name="postal_code" phpName="PostalCode" type="VARCHAR" size="45" required="false"/>
    <column name="city" phpName="City" type="VARCHAR" size="45" required="false"/>
    <column name="state" phpName="State" type="VARCHAR" size="255" required="false"/>
    <column name="province" phpName="Province" type="VARCHAR" size="255" required="false"/>
    <column name="country" phpName="Country" type="VARCHAR" size="2" required="false"/>
    <column name="phone" phpName="Phone" type="VARCHAR" size="255" required="false"/>
    <column name="fax" phpName="Fax" type="VARCHAR" size="255" required="false"/>
    <column name="website" phpName="Website" type="VARCHAR" size="255" required="false"/>
    <column name="vat_id" phpName="VatId" type="VARCHAR" size="255" required="false"/>
  </table>
  <table name="app" phpName="App" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="identifier" phpName="Identifier" type="VARCHAR" size="64" required="true"/>
    <column name="name" phpName="Name" type="VARCHAR" size="100" required="false"/>
    <column name="preface" phpName="Preface" type="VARCHAR" size="255" required="false"/>
    <column name="description" phpName="Description" type="LONGVARCHAR" required="false"/>
    <column name="media" phpName="Media" type="INTEGER" required="false"/>
    <column name="organization_id" phpName="OrganizationId" type="INTEGER" required="true"/>
    <column name="billingmode" phpName="Billingmode" type="SMALLINT" required="true" defaultValue="0"/>
    <column name="price_eur" phpName="PriceEur" type="DOUBLE" required="true" defaultValue="0"/>
    <column name="price_usd" phpName="PriceUsd" type="DOUBLE" required="true" defaultValue="0"/>
    <column name="visibility" phpName="Visibility" type="SMALLINT" required="true" defaultValue="0"/>
    <column name="beta_enabled" phpName="BetaEnabled" type="SMALLINT" required="true" defaultValue="1"/>
    <column name="beta_grace_days" phpName="BetaGraceDays" type="INTEGER" required="true" defaultValue="0"/>
    <column name="trial_days" phpName="TrialDays" type="INTEGER" required="true" defaultValue="0"/>
    <column name="permission_type" phpName="PermissionType" type="INTEGER" required="true" defaultValue="0"/>
    <column name="meta" phpName="Meta" type="LONGVARCHAR" required="false"/>
    <column name="unit" phpName="Unit" type="VARCHAR" size="5" required="false"/>
    <column name="inbase" phpName="Inbase" type="INTEGER" required="false" defaultValue="0"/>
    <foreign-key foreignTable="organization" name="fk_app_organization" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="organization_id" foreign="id"/>
    </foreign-key>
    <unique name="app_identifier_UNIQUE">
      <unique-column name="identifier"/>
    </unique>
    <unique name="app_name_UNIQUE">
      <unique-column name="name"/>
    </unique>
    <index name="fk_app_author_idx">
      <index-column name="organization_id"/>
    </index>
  </table>
  <table name="app_category" phpName="AppCategory" idMethod="native">
    <column name="app_id" phpName="AppId" type="INTEGER" primaryKey="true" required="true"/>
    <column name="category_id" phpName="CategoryId" type="INTEGER" primaryKey="true" required="true"/>
    <foreign-key foreignTable="app" name="fk_app_category_app" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="app_id" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="category" name="fk_app_category_category" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="category_id" foreign="id"/>
    </foreign-key>
    <index name="fk_app_category_app_idx">
      <index-column name="app_id"/>
    </index>
    <index name="fk_app_category_category_idx">
      <index-column name="category_id"/>
    </index>
  </table>
  <table name="app_flags" phpName="AppFlags" idMethod="native">
    <column name="app_id" phpName="AppId" type="INTEGER" primaryKey="true" required="true"/>
    <column name="zeyos_modules" phpName="ZeyosModules" type="SMALLINT" required="true" defaultValue="0"/>
    <foreign-key foreignTable="app" name="fk_app_flags_app" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="app_id" foreign="id"/>
    </foreign-key>
    <index name="fk_app_flags_app_idx">
      <index-column name="app_id"/>
    </index>
  </table>
  <table name="app_media" phpName="AppMedia" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="app_id" phpName="AppId" type="INTEGER" required="true"/>
    <column name="type" phpName="Type" type="SMALLINT" required="true"/>
    <column name="media_type" phpName="MediaType" type="SMALLINT" required="false"/>
    <column name="mime_type" phpName="MimeType" type="VARCHAR" size="150" required="false"/>
    <column name="media" phpName="Media" type="LONGVARCHAR" required="false"/>
    <column name="name" phpName="Name" type="VARCHAR" size="250" required="false"/>
    <column name="description" phpName="Description" type="LONGVARCHAR" required="false"/>
    <column name="meta" phpName="Meta" type="LONGVARCHAR" required="false"/>
    <foreign-key foreignTable="app" name="fk_app_media_app" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="app_id" foreign="id"/>
    </foreign-key>
    <index name="fk_app_media_app_idx">
      <index-column name="app_id"/>
    </index>
  </table>
  <table name="app_user" phpName="AppUser" idMethod="native">
    <column name="app_id" phpName="AppId" type="INTEGER" primaryKey="true" required="true"/>
    <column name="user_id" phpName="UserId" type="INTEGER" primaryKey="true" required="true"/>
    <foreign-key foreignTable="app" name="fk_app_user_app" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="app_id" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="user" name="fk_app_user_user" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="user_id" foreign="id"/>
    </foreign-key>
    <index name="fk_app_user_app_idx">
      <index-column name="app_id"/>
    </index>
    <index name="fk_app_user_user_idx">
      <index-column name="user_id"/>
    </index>
  </table>
  <table name="category" phpName="Category" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="name" phpName="Name" type="VARCHAR" size="255" required="true"/>
    <column name="category_id" phpName="CategoryId" type="INTEGER" required="false"/>
    <foreign-key foreignTable="category" name="fk_category_category" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="category_id" foreign="id"/>
    </foreign-key>
    <index name="fk_category_category_idx">
      <index-column name="category_id"/>
    </index>
  </table>
  <table name="dependency" phpName="Dependency" idMethod="native">
    <column name="version_id" phpName="VersionId" type="VARCHAR" size="64" primaryKey="true" required="true"/>
    <column name="dependency_id" phpName="DependencyId" type="VARCHAR" size="64" primaryKey="true" required="true"/>
    <foreign-key foreignTable="version" name="fk_dependency_dependency" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="dependency_id" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="version" name="fk_dependency_version" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="version_id" foreign="id"/>
    </foreign-key>
    <index name="fk_dependency_dependency_idx">
      <index-column name="dependency_id"/>
    </index>
    <index name="fk_dependency_version_idx">
      <index-column name="version_id"/>
    </index>
  </table>
  <table name="invitation" phpName="Invitation" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="type" phpName="Type" type="SMALLINT" required="true"/>
    <column name="email" phpName="Email" type="VARCHAR" size="255" required="true"/>
    <column name="index" phpName="Index" type="INTEGER" required="false"/>
    <column name="meta" phpName="Meta" type="LONGVARCHAR" required="false"/>
    <column name="hash" phpName="Hash" type="VARCHAR" size="255" required="true"/>
    <column name="creation_date" phpName="CreationDate" type="TIMESTAMP" required="true"/>
    <unique name="invitation_hash_UNIQUE">
      <unique-column name="hash"/>
    </unique>
    <unique name="invitation_type_email_UNIQUE">
      <unique-column name="type"/>
      <unique-column name="email"/>
    </unique>
  </table>
  <table name="invoice" phpName="Invoice" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="platform_id" phpName="PlatformId" type="INTEGER" required="true"/>
    <column name="due_date" phpName="DueDate" type="DATE" required="true"/>
    <column name="price" phpName="Price" type="DOUBLE" required="true" defaultValue="0"/>
    <column name="tax" phpName="Tax" type="DOUBLE" required="true" defaultValue="0"/>
    <column name="status" phpName="Status" type="SMALLINT" required="true" defaultValue="1"/>
    <column name="frozen" phpName="Frozen" type="SMALLINT" required="true" defaultValue="0"/>
    <column name="version" phpName="Version" type="INTEGER" required="true" defaultValue="1"/>
    <column name="creation_date" phpName="CreationDate" type="TIMESTAMP" required="true"/>
    <column name="invoice_file_id" phpName="InvoiceFileId" type="BIGINT" required="false"/>
    <foreign-key foreignTable="invoice_file" name="fk_invoice_invoice_file1" onDelete="SET NULL" onUpdate="CASCADE">
      <reference local="invoice_file_id" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="platform" name="fk_invoice_platform1" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="platform_id" foreign="id"/>
    </foreign-key>
    <index name="fk_invoice_invoice_file_idx">
      <index-column name="invoice_file_id"/>
    </index>
    <unique name="unique_invoice_due_date">
      <unique-column name="platform_id"/>
      <unique-column name="due_date"/>
    </unique>
  </table>
  <table name="invoice_file" phpName="InvoiceFile" idMethod="native">
    <column name="id" phpName="Id" type="BIGINT" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="invoice_id" phpName="InvoiceId" type="INTEGER" required="true"/>
    <column name="creation_date" phpName="CreationDate" type="TIMESTAMP" required="true"/>
    <foreign-key foreignTable="invoice" name="fk_invoice_file_invoice1" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="invoice_id" foreign="id"/>
    </foreign-key>
  </table>
  <table name="invoice_item" phpName="InvoiceItem" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="invoice_id" phpName="InvoiceId" type="INTEGER" required="true"/>
    <column name="subscription_id" phpName="SubscriptionId" type="INTEGER" required="false"/>
    <column name="name" phpName="Name" type="VARCHAR" size="255" required="true"/>
    <column name="code" phpName="Code" type="VARCHAR" size="45" required="false"/>
    <column name="price" phpName="Price" type="DOUBLE" required="true"/>
    <column name="amount" phpName="Amount" type="INTEGER" required="true"/>
    <column name="taxrate" phpName="Taxrate" type="DOUBLE" required="true"/>
    <column name="tax" phpName="Tax" type="DOUBLE" required="true"/>
    <foreign-key foreignTable="invoice" name="fk_invoice_item_invoice">
      <reference local="invoice_id" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="subscription" name="fk_invoice_item_subscription">
      <reference local="subscription_id" foreign="id"/>
    </foreign-key>
    <index name="fk_invoice_item_invoice_idx">
      <index-column name="invoice_id"/>
    </index>
    <index name="fk_invoice_item_subscription_idx">
      <index-column name="subscription_id"/>
    </index>
    <unique name="unique_invoice_item_subscription">
      <unique-column name="invoice_id"/>
      <unique-column name="subscription_id"/>
    </unique>
  </table>
  <table name="organization" phpName="Organization" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="address_id" phpName="AddressId" type="INTEGER" required="false"/>
    <column name="identifier" phpName="Identifier" type="VARCHAR" size="64" required="true"/>
    <column name="name" phpName="Name" type="VARCHAR" size="255" required="true"/>
    <column name="email" phpName="Email" type="VARCHAR" size="255" required="true"/>
    <column name="type" phpName="Type" type="SMALLINT" required="true" defaultValue="0"/>
    <column name="currency" phpName="Currency" type="VARCHAR" size="3" required="true"/>
    <column name="tax_exemption" phpName="TaxExemption" type="SMALLINT" required="true" defaultValue="0"/>
    <foreign-key foreignTable="address" name="fk_account_address" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="address_id" foreign="id"/>
    </foreign-key>
    <index name="fk_account_address_idx">
      <index-column name="address_id"/>
    </index>
    <unique name="organization_email_UNIQUE">
      <unique-column name="email"/>
    </unique>
    <unique name="organization_identifier_UNIQUE">
      <unique-column name="identifier"/>
    </unique>
    <unique name="organization_name_UNIQUE">
      <unique-column name="name"/>
    </unique>
  </table>
  <table name="organization_customer" phpName="OrganizationCustomer" idMethod="native">
    <column name="organization_id" phpName="OrganizationId" type="INTEGER" primaryKey="true" required="true"/>
    <column name="customer_id" phpName="CustomerId" type="INTEGER" primaryKey="true" required="true"/>
    <foreign-key foreignTable="organization" name="fk_organization_customer_customer" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="customer_id" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="organization" name="fk_organization_customer_organization" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="organization_id" foreign="id"/>
    </foreign-key>
    <index name="fk_organization_customer_custome">
      <index-column name="customer_id"/>
    </index>
    <index name="fk_organization_customer_organiz">
      <index-column name="organization_id"/>
    </index>
    <unique name="organization_customer_customer_i">
      <unique-column name="customer_id"/>
    </unique>
  </table>
  <table name="organization_permission" phpName="OrganizationPermission" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="organization_id" phpName="OrganizationId" type="INTEGER" required="true"/>
    <column name="permission" phpName="Permission" type="INTEGER" required="true"/>
    <foreign-key foreignTable="organization" name="fk_organization_permission_organization" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="organization_id" foreign="id"/>
    </foreign-key>
    <index name="fk_organization_permission_organ">
      <index-column name="organization_id"/>
    </index>
  </table>
  <table name="organization_user" phpName="OrganizationUser" idMethod="native">
    <column name="organization_id" phpName="OrganizationId" type="INTEGER" primaryKey="true" required="true"/>
    <column name="user_id" phpName="UserId" type="INTEGER" primaryKey="true" required="true"/>
    <column name="is_primary" phpName="IsPrimary" type="SMALLINT" required="false"/>
    <foreign-key foreignTable="organization" name="fk_organization_user_organization" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="organization_id" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="user" name="fk_organization_user_user" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="user_id" foreign="id"/>
    </foreign-key>
    <index name="fk_organization_user_organizatio">
      <index-column name="organization_id"/>
    </index>
    <index name="fk_organization_user_user_idx">
      <index-column name="user_id"/>
    </index>
    <unique name="unique_organization_user_user_is">
      <unique-column name="user_id"/>
      <unique-column name="is_primary"/>
    </unique>
  </table>
  <table name="payment" phpName="Payment" idMethod="native">
    <column name="id" phpName="Id" type="BIGINT" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="payment_method_id" phpName="PaymentMethodId" type="BIGINT" required="true"/>
    <column name="invoice_id" phpName="InvoiceId" type="INTEGER" required="true"/>
    <column name="amount" phpName="Amount" type="DOUBLE" required="true"/>
    <column name="payment_key" phpName="PaymentKey" type="VARCHAR" size="255" required="false" defaultValue="NULL"/>
    <column name="completion_date" phpName="CompletionDate" type="TIMESTAMP" required="false"/>
    <column name="creation_date" phpName="CreationDate" type="TIMESTAMP" required="true"/>
    <column name="last_changed" phpName="LastChanged" type="TIMESTAMP" required="true"/>
    <column name="attempts" phpName="Attempts" type="SMALLINT" required="true" defaultValue="0"/>
    <foreign-key foreignTable="invoice" name="fk_payment_invoice1" onUpdate="CASCADE">
      <reference local="invoice_id" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="payment_method" name="fk_payment_payment_method1" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="payment_method_id" foreign="id"/>
    </foreign-key>
    <index name="fk_payment_invoice_idx">
      <index-column name="invoice_id"/>
    </index>
    <index name="fk_payment_payment_method_idx">
      <index-column name="payment_method_id"/>
    </index>
    <unique name="unique_payment_invoice">
      <unique-column name="payment_method_id"/>
      <unique-column name="invoice_id"/>
      <unique-column name="payment_key"/>
    </unique>
  </table>
  <table name="payment_method" phpName="PaymentMethod" idMethod="native">
    <column name="id" phpName="Id" type="BIGINT" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="platform_id" phpName="PlatformId" type="INTEGER" required="true"/>
    <column name="type" phpName="Type" type="VARCHAR" size="255" required="true"/>
    <column name="data" phpName="Data" type="LONGVARCHAR" required="true"/>
    <column name="first_name" phpName="FirstName" type="VARCHAR" size="255" required="true"/>
    <column name="last_name" phpName="LastName" type="VARCHAR" size="255" required="true"/>
    <column name="company" phpName="Company" type="VARCHAR" size="255" required="true" defaultValue=""/>
    <column name="creation_date" phpName="CreationDate" type="TIMESTAMP" required="true"/>
    <column name="deactivation_date" phpName="DeactivationDate" type="TIMESTAMP" required="false"/>
    <column name="address" phpName="Address" type="VARCHAR" size="255" required="true"/>
    <column name="postal_code" phpName="PostalCode" type="VARCHAR" size="255" required="true"/>
    <column name="city" phpName="City" type="VARCHAR" size="255" required="true"/>
    <column name="region" phpName="Region" type="VARCHAR" size="255" required="true"/>
    <column name="country" phpName="Country" type="VARCHAR" size="2" required="true"/>
    <column name="comment" phpName="Comment" type="LONGVARCHAR" required="true"/>
    <column name="allowance" phpName="Allowance" type="DOUBLE" required="true"/>
    <column name="email" phpName="Email" type="VARCHAR" size="255" required="true"/>
    <foreign-key foreignTable="platform" name="fk_payment_method_platform1" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="platform_id" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="payment_method_type" name="fk_payment_method_type">
      <reference local="type" foreign="id"/>
    </foreign-key>
    <index name="fk_payment_method_platform_idx">
      <index-column name="platform_id"/>
    </index>
    <index name="fk_payment_method_type_idx">
      <index-column name="type"/>
    </index>
  </table>
  <table name="payment_method_type" phpName="PaymentMethodType" idMethod="native">
    <column name="id" phpName="Id" type="VARCHAR" size="255" primaryKey="true" required="true"/>
  </table>
  <table name="payment_transaction" phpName="PaymentTransaction" idMethod="native">
    <column name="id" phpName="Id" type="BIGINT" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="payment_id" phpName="PaymentId" type="BIGINT" required="true"/>
    <column name="transaction_type" phpName="TransactionType" type="VARCHAR" size="255" required="false" defaultValue="NULL"/>
    <column name="transaction_id" phpName="TransactionId" type="VARCHAR" size="255" required="true"/>
    <column name="amount" phpName="Amount" type="DOUBLE" required="true"/>
    <column name="currency" phpName="Currency" type="VARCHAR" size="3" required="true"/>
    <column name="status" phpName="Status" type="VARCHAR" size="255" required="true"/>
    <column name="payer" phpName="Payer" type="VARCHAR" size="255" required="true"/>
    <column name="email" phpName="Email" type="VARCHAR" size="255" required="false" defaultValue="NULL"/>
    <column name="data" phpName="Data" type="LONGVARCHAR" required="true"/>
    <column name="creation_date" phpName="CreationDate" type="TIMESTAMP" required="true"/>
    <column name="last_changed" phpName="LastChanged" type="TIMESTAMP" required="true"/>
    <foreign-key foreignTable="payment" name="payment_transaction_payment" onUpdate="CASCADE">
      <reference local="payment_id" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="payment_transaction_status" name="payment_transaction_status">
      <reference local="status" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="payment_method_type" name="payment_transaction_transaction_type">
      <reference local="transaction_type" foreign="id"/>
    </foreign-key>
    <index name="fk_payment_transaction_payment_i">
      <index-column name="payment_id"/>
    </index>
    <index name="fk_payment_transaction_status_id">
      <index-column name="status"/>
    </index>
    <index name="fk_payment_transaction_transacti">
      <index-column name="transaction_type"/>
    </index>
    <unique name="unique_payment_transaction_trans">
      <unique-column name="transaction_type"/>
      <unique-column name="transaction_id"/>
    </unique>
  </table>
  <table name="payment_transaction_status" phpName="PaymentTransactionStatus" idMethod="native">
    <column name="id" phpName="Id" type="VARCHAR" size="255" primaryKey="true" required="true"/>
  </table>
  <table name="permission" phpName="Permission" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="user_id" phpName="UserId" type="INTEGER" required="true"/>
    <column name="permission" phpName="Permission" type="INTEGER" required="true"/>
    <column name="index" phpName="Index" type="INTEGER" required="false"/>
    <foreign-key foreignTable="user" name="fk_permission_user" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="user_id" foreign="id"/>
    </foreign-key>
    <index name="fk_permission_user_idx">
      <index-column name="user_id"/>
    </index>
  </table>
  <table name="platform" phpName="Platform" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="name" phpName="Name" type="VARCHAR" size="70" required="true"/>
    <column name="url" phpName="Url" type="VARCHAR" size="255" required="true"/>
    <column name="accountkey" phpName="Accountkey" type="VARCHAR" size="255" required="false"/>
    <column name="licensekey" phpName="Licensekey" type="VARCHAR" size="255" required="false"/>
    <column name="owner_id" phpName="OwnerId" type="INTEGER" required="true"/>
    <column name="creation_date" phpName="CreationDate" type="TIMESTAMP" required="true"/>
    <column name="trial_end" phpName="TrialEnd" type="DATE" required="true"/>
    <column name="active" phpName="Active" type="SMALLINT" required="true" defaultValue="1"/>
    <column name="sandbox" phpName="Sandbox" type="INTEGER" required="true"/>
    <foreign-key foreignTable="organization" name="fk_platform_owner" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="owner_id" foreign="id"/>
    </foreign-key>
    <index name="fk_platform_owner_idx">
      <index-column name="owner_id"/>
    </index>
    <unique name="platform_accountkey_UNIQUE">
      <unique-column name="accountkey"/>
    </unique>
    <unique name="platform_name_UNIQUE">
      <unique-column name="name"/>
    </unique>
  </table>
  <table name="platform_subscription" phpName="PlatformSubscription" idMethod="native">
    <column name="platform_id" phpName="PlatformId" type="INTEGER" primaryKey="true" required="true"/>
    <column name="app_id" phpName="AppId" type="INTEGER" primaryKey="true" required="true"/>
    <column name="subscription_id" phpName="SubscriptionId" type="INTEGER" required="false"/>
    <foreign-key foreignTable="app" name="fk_platform_subscription_app">
      <reference local="app_id" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="platform" name="fk_platform_subscription_platform" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="platform_id" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="subscription" name="fk_platform_subscription_subscription" onDelete="SET NULL" onUpdate="CASCADE">
      <reference local="subscription_id" foreign="id"/>
    </foreign-key>
    <index name="fk_platform_subscription_app_idx">
      <index-column name="app_id"/>
    </index>
    <index name="fk_platform_subscription_platfor">
      <index-column name="platform_id"/>
    </index>
    <index name="fk_platform_subscription_subscri">
      <index-column name="subscription_id"/>
    </index>
    <unique name="unique_platform_subscription_sub">
      <unique-column name="subscription_id"/>
    </unique>
  </table>
  <table name="platform_version" phpName="PlatformVersion" idMethod="native">
    <column name="platform_id" phpName="PlatformId" type="INTEGER" primaryKey="true" required="true"/>
    <column name="version_id" phpName="VersionId" type="VARCHAR" size="64" primaryKey="true" required="true"/>
    <foreign-key foreignTable="platform" name="fk_platform_version_platform" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="platform_id" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="version" name="fk_platform_version_version" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="version_id" foreign="id"/>
    </foreign-key>
    <index name="fk_platform_version_platform_idx">
      <index-column name="platform_id"/>
    </index>
    <index name="fk_platform_version_version_idx">
      <index-column name="version_id"/>
    </index>
  </table>
  <table name="rating" phpName="Rating" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="app_id" phpName="AppId" type="INTEGER" required="true"/>
    <column name="user_id" phpName="UserId" type="INTEGER" required="false"/>
    <column name="rating" phpName="Rating" type="SMALLINT" required="true"/>
    <column name="comment" phpName="Comment" type="LONGVARCHAR" required="true"/>
    <foreign-key foreignTable="app" name="fk_rating_app" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="app_id" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="user" name="fk_rating_user" onDelete="SET NULL" onUpdate="CASCADE">
      <reference local="user_id" foreign="id"/>
    </foreign-key>
    <index name="fk_rating_app_idx">
      <index-column name="app_id"/>
    </index>
    <index name="fk_rating_user_idx">
      <index-column name="user_id"/>
    </index>
  </table>
  <table name="subscription" phpName="Subscription" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="user_id" phpName="UserId" type="INTEGER" required="true"/>
    <column name="platform_id" phpName="PlatformId" type="INTEGER" required="true"/>
    <column name="app_id" phpName="AppId" type="INTEGER" required="true"/>
    <column name="inbase" phpName="Inbase" type="INTEGER" required="true" defaultValue="0"/>
    <column name="amount" phpName="Amount" type="INTEGER" required="true"/>
    <column name="price" phpName="Price" type="DOUBLE" required="true"/>
    <column name="currency" phpName="Currency" type="VARCHAR" size="3" required="true"/>
    <column name="start_date" phpName="StartDate" type="DATE" required="true"/>
    <column name="end_date" phpName="EndDate" type="DATE" required="false"/>
    <column name="cancel_date" phpName="CancelDate" type="DATE" required="false"/>
    <column name="billing_mode" phpName="BillingMode" type="SMALLINT" required="true"/>
    <column name="due_date" phpName="DueDate" type="DATE" required="true"/>
    <column name="invoiced_units" phpName="InvoicedUnits" type="INTEGER" required="true" defaultValue="0"/>
    <foreign-key foreignTable="app" name="fk_subscription_app" onUpdate="CASCADE">
      <reference local="app_id" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="platform" name="fk_subscription_platform" onUpdate="CASCADE">
      <reference local="platform_id" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="user" name="fk_subscription_user" onUpdate="CASCADE">
      <reference local="user_id" foreign="id"/>
    </foreign-key>
    <index name="fk_subscription_app_idx">
      <index-column name="app_id"/>
    </index>
    <index name="fk_subscription_platform_idx">
      <index-column name="platform_id"/>
    </index>
    <index name="fk_subscription_user_idx">
      <index-column name="user_id"/>
    </index>
  </table>
  <table name="user" phpName="User" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="username" phpName="Username" type="VARCHAR" size="30" required="false"/>
    <column name="email" phpName="Email" type="VARCHAR" size="255" required="true"/>
    <column name="password_hash" phpName="PasswordHash" type="VARCHAR" size="255" required="true"/>
    <column name="address_id" phpName="AddressId" type="INTEGER" required="false"/>
    <column name="admin" phpName="Admin" type="SMALLINT" required="true" defaultValue="0"/>
    <column name="publicity" phpName="Publicity" type="INTEGER" required="true" defaultValue="0"/>
    <foreign-key foreignTable="address" name="fk_user_address" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="address_id" foreign="id"/>
    </foreign-key>
    <index name="fk_user_address_idx">
      <index-column name="address_id"/>
    </index>
    <unique name="user_email_UNIQUE">
      <unique-column name="email"/>
    </unique>
    <unique name="user_username_UNIQUE">
      <unique-column name="username"/>
    </unique>
  </table>
  <table name="user_customer" phpName="UserCustomer" idMethod="native">
    <column name="user_id" phpName="UserId" type="INTEGER" primaryKey="true" required="true"/>
    <column name="customer_id" phpName="CustomerId" type="INTEGER" primaryKey="true" required="true"/>
    <foreign-key foreignTable="user" name="fk_user_customer_customer">
      <reference local="customer_id" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="user" name="fk_user_customer_user">
      <reference local="user_id" foreign="id"/>
    </foreign-key>
    <index name="fk_user_customer_customer_idx">
      <index-column name="customer_id"/>
    </index>
    <index name="fk_user_customer_user_idx">
      <index-column name="user_id"/>
    </index>
  </table>
  <table name="version" phpName="Version" idMethod="native">
    <column name="id" phpName="Id" type="VARCHAR" size="64" primaryKey="true" required="true"/>
    <column name="app_id" phpName="AppId" type="INTEGER" required="true"/>
    <column name="number" phpName="Number" type="INTEGER" required="true"/>
    <column name="date" phpName="Date" type="DATE" required="true"/>
    <column name="visibility" phpName="Visibility" type="SMALLINT" required="true" defaultValue="1"/>
    <column name="comment" phpName="Comment" type="LONGVARCHAR" required="false"/>
    <column name="meta" phpName="Meta" type="LONGVARCHAR" required="false"/>
    <foreign-key foreignTable="app" name="fk_version_app" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="app_id" foreign="id"/>
    </foreign-key>
    <index name="fk_version_app_idx">
      <index-column name="app_id"/>
    </index>
    <unique name="version_app_id_number_UNIQUE">
      <unique-column name="app_id"/>
      <unique-column name="number"/>
    </unique>
  </table>
  <table name="version_flags" phpName="VersionFlags" idMethod="native">
    <column name="version_id" phpName="VersionId" type="VARCHAR" size="64" primaryKey="true" required="true"/>
    <column name="no_package" phpName="NoPackage" type="SMALLINT" required="true" defaultValue="0"/>
    <column name="sandbox_free" phpName="SandboxFree" type="SMALLINT" required="true" defaultValue="0"/>
    <foreign-key foreignTable="version" name="fk_version_flags_version" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="version_id" foreign="id"/>
    </foreign-key>
    <index name="fk_version_flags_version_idx">
      <index-column name="version_id"/>
    </index>
  </table>
  <table name="voucher" phpName="Voucher" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="code" phpName="Code" type="VARCHAR" size="45" required="true"/>
    <column name="organization_id" phpName="OrganizationId" type="INTEGER" required="true"/>
    <column name="app_id" phpName="AppId" type="INTEGER" required="true"/>
    <column name="invoice_id" phpName="InvoiceId" type="INTEGER" required="false"/>
    <column name="platform_id" phpName="PlatformId" type="INTEGER" required="false"/>
    <column name="issue_date" phpName="IssueDate" type="TIMESTAMP" required="true"/>
    <column name="amount" phpName="Amount" type="INTEGER" required="false"/>
    <foreign-key foreignTable="app" name="fk_voucher_app">
      <reference local="app_id" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="invoice" name="fk_voucher_invoice">
      <reference local="invoice_id" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="organization" name="fk_voucher_organization">
      <reference local="organization_id" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="platform" name="fk_voucher_platform">
      <reference local="platform_id" foreign="id"/>
    </foreign-key>
    <index name="fk_voucher_app_idx">
      <index-column name="app_id"/>
    </index>
    <index name="fk_voucher_invoice_idx">
      <index-column name="invoice_id"/>
    </index>
    <index name="fk_voucher_organization_idx">
      <index-column name="organization_id"/>
    </index>
    <index name="fk_voucher_platform_idx">
      <index-column name="platform_id"/>
    </index>
  </table>
</database>
